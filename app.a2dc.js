(()=>{"use strict";var e,t={9251:(e,t,n)=>{var r=n(7294),o=n(3935),a=n(9704),i=n(8172),c=n(9342),l=(n(2564),n(6974));n(2526),n(1817);const u=JSON.parse('{"i8":"0.2.6","WL":"Rebel Plans • Roadmap Creation & Project Planning Tool"}');n(915);var s=n(9163),p=(n(7941),n(7327),n(1539),n(5003),n(9554),n(4747),n(9337),n(3321),n(9070),n(4942));function f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var d="rgba(106,148,184,0.06)",m={pink:"#ec4af4",green:"#84ff00",yellow:"#edff00",blue:"#4ba4f5"},g={dark:"#191919",demi:"#333333",grey:"#696969",lite:"#f7f8f9",light:{border:"#ccc",background:"#eee"}},b={pending:"#cccccc",progress:"#60aeff",delayed:"#ff9360",complete:"#0bad00",dropped:"#ff5656"};const h=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f(Object(n),!0).forEach((function(t){(0,p.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({logo:m,header:g,accent:{danger:"#ff3e84",stable:m.green,active:m.blue},text:{onDark:{bold:"#fff",main:"#ccc",mute:"#aaa",demi:g.grey},onLight:{bold:"#333",main:g.grey,mute:"#ccc"}},statusColors:{pending:"#cccccc",progress:"#60aeff",delayed:"#ff9360",complete:"#0bad00",dropped:"#ff5656"}},{purple:"#8c0756",violet:"#8933f4",indigo:"#374193",blue:"#1c93ff",azur:"#01e3b3",green:"#0b890c",yellow:"#e7e400",orange:"#ffa900",fire:"#ff5700",pink:"#ff55b8"});var y=s.ZP.header.withConfig({componentId:"sc-1ghjfaa-0"})(["display:flex;min-height:45px;background:",";color:",";padding:0 12px 0 0;font-size:1.2rem;line-height:1rem;justify-content:left;align-items:center;user-select:none;transition:0.3s;& > *{margin-left:12px;}&.transparent{opacity:0;}"],h.header.dark,h.text.onDark.main),x=(0,s.ZP)(c.rU).withConfig({componentId:"sc-1ghjfaa-1"})(["display:flex;width:28px;height:27px;min-width:28px;border:1px solid ",";border-radius:4px;position:relative;sup,sub{display:inline-block;position:absolute;left:5px;height:3px;font-size:0;transition:width 0.2s;}sup{top:5px;width:18px;border-top:2px solid ",";border-bottom:2px solid ",";}sub{top:15px;width:10px;border-top:2px solid ",";border-bottom:2px solid ",";}&:hover sub{width:18px;}"],h.header.grey,h.logo.pink,h.logo.green,h.logo.yellow,h.logo.blue),v=s.ZP.h1.withConfig({componentId:"sc-1ghjfaa-2"})(["margin-top:1px;margin-bottom:0;font-size:13px;font-weight:normal;width:100%;text-overflow:ellipsis;white-space:nowrap;overflow:hidden;text-align:center;user-select:all;"]),O=s.ZP.button.withConfig({componentId:"sc-1ghjfaa-3"})(["padding:0;width:29px;overflow:hidden;box-sizing:border-box;height:29px;min-width:29px;border-radius:4px;font-size:13px;color:",";transition:0.2s;position:relative;z-index:30;cursor:pointer;border:1px solid ",";background:transparent;&:hover{color:",";img{transform:scale(1.2);}}& img{width:100%;height:100%;font-size:0;transition:0.2s;vertical-align:middle;}& svg:only-child{width:21px;margin:3px 0 0;}& svg{fill:currentColor;pointer-events:none;&.online,&.offline{color:transparent;position:absolute;border-radius:50%;width:10px;right:0;bottom:0;z-index:1;}&.online{color:",";background:",";}&.offline{color:",";background:",";}}"],h.text.onDark.mute,h.header.grey,h.logo.green,h.accent.stable,h.text.onDark.demi,h.accent.danger,h.text.onDark.bold);const D={ID:{LENGTH:20,SYMBOLS:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"},DAY:{WIDTH:30,HEADER:{HEIGHT:85,MILE_HEIGHT:125}},CARD:{HEIGHT:30,VERTICAL_SPACE:35,HORIZONTAL_SPACE:15,RESIZE_TOLERANCE:7,CARDDECK_MOUSE_POSITION_FIX:[1,1]},LINE:{MIN_WIDTH:40,INIT_WIDTH:150,MIN_WIDTH_COLLAPSE:10},MILE:{MARGIN:8},LOCALE:navigator.language||"en-US",COLUMN_MULTIPLIER:2,PLAN:{FREE:{LIMIT:{ROADMAPS:3}}},TIME:{DAYS_IN_MONTH:30,AUTOSAVE_MS:3e3,LAST_ACTIVE:6e4,MILLISECONDS_IN_DAY:864e5},URL:{INDEX:"/",LOGIN:"/login/",ROOT:"/plans/",PLAN:"/plan/"}};n(8309),n(2222);var E=function(e){var t=e.title,n=(0,a.v9)((function(e){return e.ui.currentRoadmapID})),o=(0,a.v9)((function(e){return e.metas})),i=(0,r.useMemo)((function(){return(o[n]||{name:t}).name}),[o,n]);return(0,r.useEffect)((function(){document.title!==i&&(document.title=i===t?t:"".concat(i," • ").concat(t))}),[i]),r.createElement(v,null,i)};const w=r.memo(E);var P=n(7622),T=n(8152),I=n(1395),j=n(7298),S=n(5503),A=n(797),C=function(){var e=(0,a.v9)((function(e){return e.user})),t=(0,r.useState)(!1),n=(0,T.Z)(t,2),o=n[0],i=n[1];return(0,r.useEffect)((function(){var e,t=(e=function(e){return i(e)},(0,A.GG)((function(){if("function"==typeof S.Z.database){var t=S.Z.database().ref(".info/connected");return t.on("value",(function(t){e(t.val())})),function(){t.off()}}return function(){}})));return function(){t.close()}}),[]),e.id?o?r.createElement(I.Z,{className:"online"}):r.createElement(j.Z,{className:"offline"}):null};const k=r.memo(C);n(3843),n(3710);var L=function(e){S.Z.database().ref("users/".concat(e)).update({lastActive:Date.now()})},R=s.ZP.ul.withConfig({componentId:"sc-16c08l3-0"})(["position:absolute;min-width:150px;max-width:300px;background:",";font-size:13px;border-radius:4px;right:12px;box-shadow:0 3px 8px -4px ",";border:1px solid ",";color:",";margin:4px 0 0;padding:0;opacity:0;transition:0.2s;transform:translateY(-20px);pointer-events:none;z-index:20;&:before{content:'';position:absolute;width:100%;height:100%;border:5px solid transparent;margin:-5px;z-index:-1;}li{list-style:none;padding:7px 10px;cursor:pointer;& + li{border-top:1px solid ",";}&:first-child{border-radius:4px 4px 0 0;}&:last-child{border-bottom-left-radius:4px;border-bottom-right-radius:4px;}&:hover{background:",";color:",";}}"],h.header.lite,h.header.demi,h.header.light.border,h.text.onLight.main,h.header.light.border,h.header.light.background,h.accent.active),M=s.ZP.div.withConfig({componentId:"sc-16c08l3-1"})(["&:hover ","{opacity:1;pointer-events:all;transform:translateY(0);}"],R),Z=function(){var e=(0,a.v9)((function(e){return e.user}));return r.createElement(R,null,r.createElement("li",{onClick:function(){return alert("Profile editing will be available in the near future")}},e.name),r.createElement("li",{onClick:function(){return t=e.id,L(t),void("function"==typeof S.Z.auth&&S.Z.auth().signOut());var t}},"Log out"))};const _=r.memo(Z);var N=function(){var e=(0,a.v9)((function(e){return e.user})),t=e.name,n=e.photoURL;return r.createElement(M,null,r.createElement(O,null,n?r.createElement("img",{src:n,alt:t}):r.createElement(P.Z,null),r.createElement(k,null)),r.createElement(_,null))};const H=r.memo(N);var U=function(e){var t=e.isLoggedIn;return r.createElement(y,{className:"".concat(!1===t?"transparent":"")},r.createElement(x,{to:D.URL.ROOT,title:"Rebel Plans v".concat(u.i8)},r.createElement("sup",null,"Rebel Plans"),r.createElement("sub",null,"Roadmap Creation & Project Planning Tool")),r.createElement(w,{title:u.WL}),r.createElement(H,null))};const z=r.memo(U);n(6699),n(2023);var Y=(0,n(3416).kP)(D.ID.SYMBOLS,D.ID.LENGTH),F=function(e){return{type:"SELECTION_DELETE",payload:{id:e.id}}},W=(n(1249),n(4916),n(3123),n(1058),n(7042),n(5268),n(3290),n(9653),n(5827),n(6833),n(5212),n(3161),n(2772),function(){return Math.ceil(Math.ceil(window.innerWidth/D.DAY.WIDTH)*D.COLUMN_MULTIPLIER/D.TIME.DAYS_IN_MONTH)}),V=function(e,t){return Math.max(Math.round((t-e)/D.DAY.WIDTH+.3),1)||1},G=function(e,t,n,r){if(void 0!==r){if(100===r)return"complete";if(n.localeCompare(t)>0)return"dropped";if(0===r){if(n.localeCompare(e)>0)return"delayed";if(n.localeCompare(e)<=0)return"pending"}var o=le(e,n);return r/100<o/(o+ue(n,t))?"delayed":"progress"}},K=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];e.style.height="inherit",e.style.height="".concat(e.scrollHeight,"px"),t&&Number.isInteger(e.selectionStart)&&(e.selectionStart=e.value.length,e.selectionEnd=e.value.length)},X=function(e,t,n){return e.scroll({left:t.offsetLeft+(t.parentElement?t.parentElement.offsetLeft:0)-window.innerWidth/2,behavior:n?"smooth":"auto"})},B=function(e){if(e instanceof HTMLInputElement){var t=e.parentElement;if(t instanceof HTMLElement){var n=t.parentElement;if(n instanceof HTMLElement)return{index:[].slice.call(n.children).indexOf(t)+1,total:n.querySelectorAll("input").length}}}return{index:0,total:0}};function q(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function J(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?q(Object(n),!0).forEach((function(t){(0,p.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):q(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Q,$,ee,te,ne=function(e){return"0".concat(e).slice(-2)},re=function(e){var t=e instanceof Date?e:new Date(e);return{year:t.getUTCFullYear(),month:t.getUTCMonth()+1,day:t.getUTCDate()}},oe=function(e){var t=re(e),n=new Date(e);return n.setUTCHours(0),n.setUTCDate(1),J(J({},t),{},{firstWeekDay:n.getUTCDay()})},ae=function(){var e=new Date;return Date.UTC(e.getFullYear(),e.getMonth(),e.getDate())},ie=function(e){return e instanceof Date?e.toISOString().slice(0,10):new Date(e||ae()).toISOString().slice(0,10)},ce=function(e){if(e){var t=new Date(e);return new Intl.DateTimeFormat(D.LOCALE,{dateStyle:"long"}).format(t)}},le=function(e,t){return e instanceof Date&&t instanceof Date?(t.getTime()-e.getTime())/D.TIME.MILLISECONDS_IN_DAY:(new Date(t).getTime()-new Date(e).getTime())/D.TIME.MILLISECONDS_IN_DAY},ue=function(e,t){return le(e,t)+1},se=function(e,t){return ie(new Date(e).getTime()+t*D.TIME.MILLISECONDS_IN_DAY)},pe=function(e,t,n){var r=n>0,o=new Date(Date.UTC(e,t-(r?0:1)+n,r?0:1));return ie(o)},fe=function(e,t){var n=e.direction,r=e.dateDiff;switch(n){case-1:return[se(t[0],r),t[1]];case 1:return[t[0],se(t[1],r)];default:return t.map((function(e){return se(e,r)}))}},de=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,o=e.split("-"),a=(0,T.Z)(o,2),i=a[0],c=a[1],l=t.split("-"),u=(0,T.Z)(l,2),s=u[0],p=u[1],f=""===t&&n?n:{year:s,month:p},d=f.year,m=f.month,g=[Number(i),Number(c)],b=[Number(d),Number(m)],h=r>0?g:b,y=r<0?g:b,x=""===t?0:1,v=-1===r?1:0,O=y[0]-h[0],D=y[1]-h[1]+x+12*O;return Array(D).fill(0).map((function(e,t){return oe(new Date(h[0],h[1]+t+v))}))},me=function(e,t,n){var r=0===t?1:-1,o=de(n,"",e[t],r);return Array.prototype[t?"push":"unshift"].apply(e,o),e},ge=function(e){return Object.values(e).reduce((function(e,t){var n=e.from,r=e.until;return""===n?{from:t.from,until:t.until}:{from:n.localeCompare(t.from)<0?n:t.from,until:r.localeCompare(t.until)>0?r:t.until}}),{from:"",until:""})},be=function(e,t,n){var r=e&&e.localeCompare(n)<=0?e:n,o=t&&n.localeCompare(t)<0?t:n,a=W();return{fromOffset:pe(Number(r.slice(0,4)),Number(r.slice(5,7)),-a),untilOffset:pe(Number(o.slice(0,4)),Number(o.slice(5,7)),a)}},he={started:!1,x1:0,x2:0,y1:0,line:0,date:"",done:!1},ye=($=he,ee=[],{notify:function(e){Q=e},update:function(e){if(e.date){var t=e.date.split("-").map((function(e){return parseInt(e,10)})),n=(0,T.Z)(t,2),r=n[0],o=n[1];e.date=r?"".concat(ee[r].year,"-").concat(ne(ee[r].month),"-").concat(ne(o)):$.date}else e.date=$.date;$=e,Q&&Q($)},setMonths:function(e){ee=e}}),xe=(te="",{set:function(e){return te=e},get:function(){return te}}),ve=(n(1038),n(8783),n(3689),function(e){if("mouseup"===e.type)ye.update({started:!1,done:!0});else{var t=e.relatedTarget;t&&t.getAttribute&&"edit"===t.getAttribute("data-form")||ye.update({started:!1})}}),Oe=(0,T.Z)(D.CARD.CARDDECK_MOUSE_POSITION_FIX,2),De=Oe[0],Ee=Oe[1],we=function(e,t,n){var r=e.target,o=e.nativeEvent,a=function(e,t){if(e===t)return[e.offsetLeft,e.offsetTop];if(t instanceof HTMLButtonElement)return[t.offsetLeft,t.offsetTop];var n=e.parentElement;return[t.offsetLeft-n.offsetLeft-De,t.offsetTop-n.offsetTop-Ee]}(n,r),i=(0,T.Z)(a,2),c=i[0],l=i[1];return[c+o.offsetX-t[0],l+o.offsetY-t[1]]};function Pe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Te(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Pe(Object(n),!0).forEach((function(t){(0,p.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Pe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Ie,je=s.ZP.span.withConfig({componentId:"sc-1r0pgtw-0"})(["position:absolute;display:block;height:26px;line-height:28px;border:",";border-radius:5px;padding:0 13px 0 12px;box-shadow:0 2px 5px -2px rgba(0,0,0,0.2);margin:1px 2px;background:rgba(255,255,255,0.5);pointer-events:none;left:0;top:0;"],(function(e){return e.solid?"1px dashed #999":"1px dashed #ddd"})),Se=s.ZP.span.withConfig({componentId:"sc-1r0pgtw-1"})(["display:inline-block;font-weight:lighter;position:absolute;text-align:right;font-size:12px;color:#999;right:7px;left:7px;"]);function Ae(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ce(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ae(Object(n),!0).forEach((function(t){(0,p.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ae(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}!function(e){e.card="card",e.line="line",e.milestone="milestone",e.none=""}(Ie||(Ie={}));var ke=function(){var e=(0,r.useState)(he),t=(0,T.Z)(e,2),n=t[0],o=t[1],i=(0,a.v9)((function(e){return e.cards})),c=(0,r.useMemo)((function(){return Object.values(i)}),[i]),l=(0,r.useMemo)((function(){return function(e,t){var n=t.filter((function(t){return t.line===e.line&&t.from.localeCompare(e.date)<=0&&t.until.localeCompare(e.date)>=0}));return!!n.some((function(t){return t.from===e.date||t.until===e.date}))||Boolean(n.length)}(n,c)}),[n,c]),u=(0,a.v9)((function(e){return e.selection.type}));(0,r.useEffect)((function(){u===Ie.none&&o(he)}),[u]);var s=(0,a.I0)();ye.notify((function(e){var t=e.started,r=e.x1,a=e.x2,i=e.y1,c=e.line,u=e.date,p=void 0===u?"":u,f=e.done,d=void 0!==f&&f;void 0===t||l||(t&&t!==n.started?o(Ce(Ce({},n),{},{started:t,date:p,x2:n.x1})):n.started&&d?s(function(e){var t=e.line,n=e.from,r=e.until;return{type:"NEW_CARD",payload:{id:Y(),isNew:!0,line:t,from:n,until:r}}}({line:n.line,from:n.date,until:se(n.date,V(n.x1,n.x2)-1)})):o(he)),void 0!==r&&void 0!==i&&void 0!==c&&(!1===n.started?n.x1===r&&n.y1===i||o(Ce(Ce({},n),{},{x1:r,y1:i,line:c,date:p})):void 0!==a&&o(Ce(Ce({},n),{},{x2:a})))}));var p=0===n.x1&&0===n.y1||l,f=function(e,t,n,r){if(r||0===e&&0===n)return{style:{opacity:"0"}};if(0===t)return{style:{transform:"translate(".concat(e,"px, ").concat(n,"px)"),opacity:"1"}};var o=V(e,t);return{style:{transform:"translate(".concat(e,"px, ").concat(n,"px)"),width:String((o-1)*D.DAY.WIDTH)+"px"},size:o}}(n.x1,n.x2,n.y1,p),d=f.style,m=f.size;return r.createElement(je,{solid:n.started,style:d},r.createElement(Se,null,m))};const Le=r.memo(ke),Re=function(e){var t=e.day,n=e.weekDay,o=e.tip,a=e.isToday?"today":void 0;return r.createElement("span",{className:a,"data-weekday":n,title:o},t)};var Me=function(e){var t=e.date,n=e.today,o="".concat(function(e){return new Date(e.year,e.month-1,e.day).toLocaleDateString(D.LOCALE,{month:"long"})}(t)," ").concat(t.year),a=Array(t.day).fill(t).map((function(e,t){var o=e.year,a=e.month,i=t+1,c=n.year===o&&n.month===a&&n.day===i,l=function(e){var t=new Date(e.year,e.month-1,e.day);return[t.toLocaleDateString(D.LOCALE,{weekday:"short"}),t.toLocaleDateString(D.LOCALE,{day:"numeric",month:"long",year:"numeric"})]}({year:o,month:a,day:i}),u=(0,T.Z)(l,2),s=u[0],p=u[1];return r.createElement(Re,{key:i,day:i,weekDay:s,tip:p,isToday:c})}));return r.createElement(r.Fragment,null,r.createElement("aside",{className:"monthname"},o),r.createElement("aside",{className:"days"},a))};const Ze=r.memo(Me);var _e=s.ZP.section.withConfig({componentId:"sc-hiar00-0"})(["font-size:0;width:100vw;height:100%;overflow:scroll;white-space:nowrap;position:relative;user-select:none;-ms-overflow-style:none;&::-webkit-scrollbar{display:none;}"]),Ne=s.ZP.section.withConfig({componentId:"sc-hiar00-1"})(["display:flex;min-height:calc(100vh - 45px);"]),He=s.ZP.div.withConfig({componentId:"sc-hiar00-2"})(["display:inline-block;vertical-align:top;position:relative;box-shadow:inset 1px 0 0 rgba(0,0,0,0.2);background-image:",";background-size:","px 100%,","px 100%;.monthname{height:54px;font-size:12px;width:100%;padding:8px 12px 3px;margin-top:-100%;position:sticky;top:0;z-index:8;cursor:default;background:#f7f8f9;box-sizing:border-box;color:#bbb;box-shadow:rgba(0,0,0,0.2) 2px 2px 2px,rgba(0,0,0,0.06) 1px 0 0 inset;pointer-events:all;}.days{top:25px;position:sticky;margin-top:-100%;z-index:9;cursor:default;user-select:none;span{width:14px;display:inline-block;height:14px;font-size:12px;line-height:14px;padding:8px 7px 7px 9px;text-align:center;color:#999;position:relative;z-index:1;&:before{position:absolute;width:20px;height:20px;left:6px;top:5px;border-radius:50px;z-index:-1;}&.today{color:#fff;&:hover{color:#f00;&:after{background:#f00;}}&:before{content:'';background:#f00;}}&:hover{transform:translateY(3px);font-size:10px;padding-bottom:4px;&:before{content:'';background:transparent;border:1px solid currentColor;left:6px;top:1px;border-radius:3px;width:18px;height:18px;}&:after{content:attr(data-weekday);position:absolute;width:20px;height:8px;background:#999;font-size:7px;color:#fff;line-height:8px;top:2px;border-radius:3px 3px 0 0;left:6px;}}}}"],(function(e){var t,n,r,o,a=e.firstDay;return t=a,n=D.DAY.WIDTH,r=function(e){return(e-t)*n},o=t?"transparent ".concat(r(6),"px, ").concat(d," ").concat(r(6),"px, ").concat(d," ").concat(r(8),"px, transparent ").concat(r(8),"px"):"".concat(d," ").concat(n,"px, transparent ").concat(n,"px, transparent ").concat(6*n,"px, ").concat(d," ").concat(6*n,"px"),"linear-gradient(90deg, #e8e9ea 1px, transparent 1px), linear-gradient(90deg, ".concat(o,")")}),D.DAY.WIDTH,7*D.DAY.WIDTH),Ue=s.ZP.mark.withConfig({componentId:"sc-hiar00-3"})(["position:absolute;top:0;width:2px;height:100%;background:linear-gradient(#f00,#8c0756);pointer-events:none;"]),ze=s.ZP.button.withConfig({componentId:"sc-hiar00-4"})(["border:none;font-size:12px;position:absolute;right:",";transform:",";background:#f7f8f9;box-shadow:0 2px 6px -1px rgba(0,0,0,0.2),inset 0 0 0 1px rgba(0,0,0,0.1);border-radius:4px;margin:3px auto;line-height:24px;padding:0 7px;transition:box-shadow 0.1s,transform 0.1s,opacity 0.1s;cursor:pointer;z-index:10;color:#555;user-select:none;opacity:",";pointer-events:",";&:hover{box-shadow:0 3px 6px -1px rgba(0,0,0,0.4),inset 0 0 0 1px rgba(0,0,0,0.05);}&:before{content:",";color:#f00;margin:0 7px 0 3px;}&:after{content:",";color:#f00;margin:0 3px 0 7px;}"],(function(e){return e.scrollPosition>0?"0":"100%"}),(function(e){var t=e.scrollPosition;return 0===t?"translate(0)":t>0?"translate(-12px)":"translate(100%) translate(12px)"}),(function(e){return 0===e.scrollPosition?"0":"1"}),(function(e){return 0===e.scrollPosition?"none":void 0}),(function(e){return e.scrollPosition<0&&'"\\276E"'}),(function(e){return e.scrollPosition>0&&'"\\276F"'}));const Ye=function(e){var t=e.todayRef,n=e.months,o=e.children,i=(0,a.v9)((function(e){return e.ui.todayTimestamp})),c=(0,r.useMemo)((function(){return re(i)}),[i]),l=(0,a.v9)((function(e){return e.ui.cardsPosition})),u=(0,r.useMemo)((function(){return l.split("-").map((function(e){return Number(e)}))}),[l]),s=(0,T.Z)(u,2),p=s[0],f=s[1],d=(0,r.useMemo)((function(){return{left:"".concat(c.day*D.DAY.WIDTH-D.DAY.WIDTH/2,"px")}}),[c]),m=(0,r.useMemo)((function(){return function(e,n,o,a,i){return r.createElement(He,{key:e,style:n,firstDay:o},a&&r.createElement(Ue,{ref:t,style:d}),r.createElement(Ze,{date:i,today:c}))}}),[t,d,c]);return r.createElement(r.Fragment,null,n.map((function(e){var t=e.year,n=e.month,a=e.day,i=e.firstWeekDay,l="".concat(t,"-").concat(n),u={width:"".concat(a*D.DAY.WIDTH,"px")},s=c.year===t&&c.month===n;return p===t&&f===n?r.createElement(r.Fragment,{key:l},o,m(l,u,i,s,e)):m(l,u,i,s,e)})))};var Fe=s.ZP.section.withConfig({componentId:"sc-m43cxs-0"})(["display:inline-block;position:relative;z-index:2;"]),We=s.ZP.aside.withConfig({componentId:"sc-m43cxs-1"})(["float:left;position:sticky;left:0;width:0;z-index:8;&:hover div{border-color:#aaa;color:",";&[data-name]:after{transform:translate(6px);}&:hover:after{transform:translateX(100%);}}section{width:20px;padding:","px 0 5px;min-height:calc(100vh - 135px);&.edit{width:150px;background:#f7f8f9e6;border-right:1px solid #ccc;padding-bottom:5px;position:relative;aside{position:fixed;top:99px;left:150px;width:6px;height:calc(100% - 99px);margin-left:-6px;cursor:ew-resize;z-index:1;&.drag:before{content:'';width:2000px;height:100%;margin-left:-1000px;position:absolute;}hr{position:absolute;top:50%;left:2px;height:26px;border-width:0;border-left:2px dotted #ccc;margin-top:-12px;}&.drag hr,&:hover hr{border-color:#999;}}button{display:inline-block;position:absolute;top:61px;right:7px;color:#aaa;line-height:0;font-size:17px;cursor:pointer;border-radius:4px;padding:10px 4px 8px;border:1px solid #ccc;&:hover{background:#d9d9de;color:#333;}}&:not(.hidden) div{border-radius:0;border-color:#ccc;color:",";cursor:default;&:after{content:none;}input{position:absolute;left:12px;border:1px solid #ccc;margin:-1px;border-radius:0 4px 4px 0;padding:5px;border-left:0;font-size:12px;line-height:18px;background:#f7f8f9;width:calc(100% - 28px);}}}&.edit.hidden div input{display:none;}}div{color:",";width:11px;height:28px;font-size:9px;line-height:28px;text-align:center;padding:0 1px 0 0;margin-top:5px;border:1px solid #ddd;border-left:none;background:",";border-radius:0 4px 4px 0;letter-spacing:-0.1em;transition:0.1s;cursor:pointer;&:first-of-type{margin-top:0;}&:after{content:'+';letter-spacing:0;display:inline-block;background:",";border:inherit;padding:0 5px 0 7px;border-radius:inherit;z-index:-1;right:-10px;position:absolute;margin-top:-1px;transition:0.1s;}&[data-name]:after{content:attr(data-name);}}"],h.text.onLight.bold,D.DAY.HEADER.HEIGHT,h.text.onLight.bold,h.text.onLight.mute,h.header.lite,h.logo.yellow),Ve=s.ZP.div.withConfig({componentId:"sc-m43cxs-2"})(["overflow:hidden;text-overflow:ellipsis;"]),Ge=s.ZP.svg.attrs({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 300 300"}).withConfig({componentId:"sc-m43cxs-3"})(["background:",";border-radius:50%;padding:2px;fill:#fff;"],(function(e){var t=e.type;return b[t]})),Ke=s.ZP.mark.withConfig({componentId:"sc-m43cxs-4"})(["position:absolute;display:block;left:4px;right:4px;bottom:3px;height:2px;background:transparent;overflow:hidden;opacity:0.4;border-radius:0 0 2px 2px;transition:0.1s;"]),Xe=s.ZP.button.withConfig({componentId:"sc-m43cxs-5"})(["border:none;text-align:left;box-sizing:content-box;font-size:12px;position:absolute;background:#fff;border-radius:4px;margin:0 2px;line-height:28px;padding:0 5px 0 5px;border:1px solid #ccc;transition:box-shadow 0.1s,opacity 0.1s;cursor:pointer;&:hover{box-shadow:0 2px 3px -1px rgba(0,0,0,0.3);}&:hover ","{opacity:1;}& ","{position:absolute;width:0;top:3px;right:3px;transform:translate(50%,-50%);z-index:2;transition:0.1s;}&:hover ","{width:8px;opacity:1;}&.resized{line-height:28px;border:1px dashed #e2e2e2;padding:0 4px 0 6px;cursor:ew-resize;}&:before,&:after{content:'';position:absolute;top:0;width:5px;bottom:0;opacity:0;cursor:ew-resize;}&:before{left:0;}&:after{right:0;}&:focus{outline:none;}& *{pointer-events:none;}"],Ke,Ge,Ge),Be=function(e){switch(e){case"pending":return"M59 120a30 30 0 100 60 30 30 0 000-60zm93 0a30 30 0 100 60 30 30 0 000-60zm89 0a30 30 0 100 60 30 30 0 000-60z";case"progress":return"M150 150V15A135 135 0 1133.087 217.5L150 150";case"delayed":return"M150 21c-17 0-29 8-29 22v128c0 14 12 22 29 22 16 0 29-9 29-22V43c0-14-13-22-29-22zm0 201a29 29 0 100 58 29 29 0 000-58";case"complete":return"M119 260c-2 2-6 4-9 4s-7-2-10-4l-75-76c-8-8-8-20 0-28l9-10c8-7 21-7 29 0l47 48L237 66c8-8 21-8 29 0l9 10c8 8 8 20 0 28L119 260zm0 0";case"dropped":return"M185 150l66-66c8-7 8-19 0-27l-8-8c-8-8-20-8-27 0l-66 66-66-66c-7-8-19-8-27 0l-8 8c-8 8-8 20 0 27l66 66-66 66c-8 7-8 19 0 27l8 8c8 8 20 8 27 0l66-66 66 66c7 8 19 8 27 0l8-8c8-8 8-20 0-27l-66-66zm0 0"}},qe=function(e){var t=e.type,n=e.className;return t?r.createElement(Ge,{type:t,className:n},r.createElement("path",{d:Be(t)})):null};const Je=r.memo(qe);var Qe=function(e){var t=e.card,n=e.style,o=(0,a.I0)(),i=(0,a.v9)((function(e){return e.ui.todayTimestamp})),c=(0,r.useMemo)((function(){return ie(i)}),[i]),l=(0,r.useMemo)((function(){return G(t.from,t.until,c,t.progress)}),[t,c]),u=(0,r.useMemo)((function(){return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"#0bad00",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"#ddd";return"number"==typeof e?{background:"linear-gradient(to right, ".concat(t," ").concat(e,"%, ").concat(n," ").concat(e,"%)")}:void 0}(t.progress,l?h.statusColors[l]:"")}),[t,l]),s=function(){xe.set(t.id)};return r.createElement(Xe,{style:n,onClick:function(e){var n,r,a;null!==(n=e.target)&&void 0!==n&&null!==(r=n.parentElement)&&void 0!==r&&null!==(a=r.parentElement)&&void 0!==a&&a.classList.contains("drag")||e.altKey||e.ctrlKey||e.metaKey||e.shiftKey||o({type:"SELECT_CARD",payload:{id:t.id,isNew:!1}})},onContextMenu:function(e){e.preventDefault(),e.stopPropagation()},onDoubleClick:function(e){e.altKey&&o(F({id:t.id}))},onMouseEnter:ve,onTouchStart:s,onMouseDown:s,title:t.text},r.createElement(Je,{type:l}),r.createElement(Ke,{style:u}),r.createElement(Ve,null,t.text))};const $e=r.memo(Qe);var et=function(e){var t=e.setLines,n=(0,a.v9)((function(e){return e.cards})),o=(0,a.v9)((function(e){return e.lines.names})),i=(0,a.v9)((function(e){return e.ui})).cardsPosition,c=(0,r.useRef)(-1);(0,r.useEffect)((function(){return c.current>=0?t(c.current+1):void 0}),[c.current]);var l=(0,r.useMemo)((function(){return Object.values(n).map((function(e){var t=le(i,e.from),n=ue(e.from,e.until),o={left:"".concat(t*D.DAY.WIDTH,"px"),width:"".concat(n*D.DAY.WIDTH-D.CARD.HORIZONTAL_SPACE,"px"),top:"".concat(D.DAY.HEADER.HEIGHT+e.line*D.CARD.VERTICAL_SPACE,"px")};return c.current=Math.max(c.current,e.line),r.createElement($e,{key:e.id,card:e,style:o})}))}),[n,i]),u=Object.keys(o).reduce((function(e,t){return Math.max(e,parseInt(t,10))}),0)-1;c.current=Math.max(c.current,u);var s=(0,r.useMemo)((function(){return e=c.current,{height:"".concat(D.DAY.HEADER.HEIGHT+(e+2)*D.CARD.VERTICAL_SPACE,"px")};var e}),[c.current]);return r.createElement(Fe,{style:s},l)};const tt=r.memo(et);function nt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function rt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?nt(Object(n),!0).forEach((function(t){(0,p.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):nt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ot(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function at(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ot(Object(n),!0).forEach((function(t){(0,p.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ot(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var it=function(e,t){return{type:"SET_ACCOUNT_ROADMAPS",payload:{roadmaps:e,meta:t}}},ct=function(e){return{type:"ROADMAP_DATA_FETCH",payload:at({},e)}},lt=function(e){var t=e.lineCount,n=(0,a.I0)(),o=(0,a.v9)((function(e){return e.lines.names})),i=(0,a.v9)((function(e){return e.ui.currentRoadmapID})),c=(0,a.v9)((function(e){return e.user.roadmaps[i].lineNameWidth})),l=(0,r.useState)(!1),u=(0,T.Z)(l,2),s=u[0],p=u[1],f=(0,r.useState)(t),d=(0,T.Z)(f,2),m=d[0],g=d[1],b=(0,r.useState)(c>0),h=(0,T.Z)(b,2),y=h[0],x=h[1],v=(0,r.useRef)(null),O=(0,r.useRef)(null),E=(0,r.useRef)(-1),w=(0,r.useRef)(c);(0,r.useEffect)((function(){var e=Object.keys(o).reduce((function(e,t){return Math.max(e,parseInt(t,10))}),1);g(Math.max(e,t))}),[o,t]),(0,r.useEffect)((function(){var e=y?w.current:0;e!==c&&n(function(e){return{type:"SET_ACCOUNT_ROADMAP_SETTING",payload:{roadmapID:e.roadmapID,settingName:e.settingName,settingValue:e.settingValue}}}({roadmapID:i,settingName:"lineNameWidth",settingValue:e}))}),[y,w.current]);var P=function(e){var t=B(e).index,r=e.value;return!(!t||r===o[t]||""===r&&void 0===o[t]||(n({type:"EDIT_LINE_NAME",payload:rt({},{line:t,text:r})}),0))},I=function(e){w.current=D.LINE.INIT_WIDTH,x(!0),e.target instanceof HTMLDivElement&&e.target.parentElement?E.current=[].slice.call(e.target.parentElement.children).indexOf(e.target):E.current=-1},j=function(){return x(!1)},S=function(e){e.relatedTarget instanceof HTMLInputElement&&(E.current=B(e.relatedTarget).index-1),P(e.target)&&e.relatedTarget instanceof HTMLButtonElement&&e.relatedTarget.click()},A=function(e){var t,n,r,o,a,i;if(e.target instanceof HTMLInputElement)switch(e.key.toLocaleLowerCase()){case"escape":return x(!1);case"enter":var c=P(e.target),l=(t=e.target,n=e.shiftKey,o=(r=B(t)).index,a=r.total,i=1===o&&n||o===a&&!n,E.current=i?a:o+(n?-2:0),E.current);return!c&&function(e,t){var n,r=null===(n=e.parentElement)||void 0===n?void 0:n.parentElement,o=null==r?void 0:r.querySelectorAll("input")[t];null==o||o.focus()}(e.target,l)}},C=function(){return(E.current=-1)&&p(!0)},k=function(e){s&&v.current&&O.current&&(e.clientX>D.LINE.MIN_WIDTH_COLLAPSE?(w.current=Math.max(e.clientX+3,D.LINE.MIN_WIDTH),v.current.className="edit"):(w.current=0,v.current.className="edit hidden"),v.current.style.width=w.current+"px",O.current.style.left=w.current+"px",O.current.className="drag")},L=function(){p(!1),0===w.current&&x(!1)},R=function(){return w.current<=D.LINE.MIN_WIDTH_COLLAPSE&&L()},M=function(){return r.createElement("section",{className:"edit",ref:v,style:{width:w.current+"px"}},Array(m+1).fill(0).map((function(e,t){return r.createElement("div",{key:t},t===m?"+":t+1,r.createElement("input",{type:"text",defaultValue:o[t+1],onBlur:S,onKeyDown:A,autoFocus:t===E.current}))})),r.createElement("button",{type:"button",onClick:j},"×"),r.createElement("aside",{ref:O,onMouseDown:C,onMouseMove:k,onMouseUp:L,onMouseOut:R,style:{left:w.current+"px"}},r.createElement("hr",null)))},Z=function(){return r.createElement("section",{onClick:I},Array(m).fill(0).map((function(e,t){return r.createElement("div",{key:t,"data-name":o[t+1]},t+1)})))};return r.createElement(We,null,y?r.createElement(M,null):r.createElement(Z,null))};const ut=r.memo(lt);function st(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function pt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?st(Object(n),!0).forEach((function(t){(0,p.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):st(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ft=function(e){return{type:"SET_UI_OFFSET",payload:pt({},e)}},dt=function(e){return{type:"SET_TODAY_TIMESTAMP",payload:{timestamp:e}}},mt=function(){var e=(0,a.I0)(),t=(0,r.useRef)(null),n=(0,r.useRef)(null),o=(0,r.useRef)({days:0,left:0,fire:!1,ready:!0,position:0}),i=(0,r.useState)(0),c=(0,T.Z)(i,2),l=c[0],u=c[1],s=(0,r.useState)([]),p=(0,T.Z)(s,2),f=p[0],d=p[1],m=(0,r.useMemo)((function(){return f.length>0}),[f.length]),g=(0,a.v9)((function(e){return e.ui.fromOffset})),b=(0,a.v9)((function(e){return e.ui.untilOffset})),h=(0,r.useRef)({fromOffset:g,untilOffset:b}),y=function(e){d(e),ye.setMonths(e)};(0,r.useLayoutEffect)((function(){o.current.ready&&t.current&&n.current&&(X(t.current,n.current),o.current.position=t.current.scrollLeft,o.current.ready=!1)}),[m]),(0,r.useLayoutEffect)((function(){o.current.fire&&t.current&&(t.current.scrollLeft=o.current.left,o.current.fire=!1)}),[g,b]),(0,r.useMemo)((function(){g&&b&&(0===f.length?y(de(g,b)):h.current.fromOffset!==g?y(me(f,0,g)):h.current.untilOffset!==b&&y(me(f,f.length-1,b))),h.current={fromOffset:g,untilOffset:b}}),[f,g,b]);var x=(0,r.useMemo)((function(){return t=function(t){return e({type:"MOVE_CARD",payload:Te({},t)})},n={coord:[0,0],width:0,el:null},r={limit:0,pressX:0,direction:0,extraSize:0},o=null,a=!1,i=function(){o&&(o.classList.remove("drag"),o=null)},c=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];n.el&&o&&(t&&(r.limit=0,r.pressX=0,r.direction=0,r.extraSize=0,o.style.cursor=""),n.el.style.pointerEvents="",n.el.style.transform="",n.el.style.opacity="",n.el.style.zIndex="",n.el=null,e?i():setTimeout(i,10))},{pressInZone:function(e){if(!n.el)if(e.target instanceof HTMLButtonElement){(o=e.currentTarget).classList.add("drag"),n.el=e.target;var t=n.el,i=t.clientWidth,c=t.offsetLeft,l=t.offsetTop,u=e.nativeEvent,s=u.offsetX,p=u.offsetY,f=u.clientX;if(s<D.CARD.RESIZE_TOLERANCE||i-s<D.CARD.RESIZE_TOLERANCE)return o.style.cursor="ew-resize",r.pressX=f,r.direction=s<D.CARD.RESIZE_TOLERANCE?-1:1,n.width=parseInt(n.el.style.width,10),void(r.limit=(n.width-D.CARD.HORIZONTAL_SPACE)/-D.DAY.WIDTH);n.coord=[c+s,l+p]}else e.target instanceof HTMLDivElement&&(a=!0,ye.update({started:!0}))},moveInZone:function(e){if(n.el)if(n.el.style.transform||(n.el.style.pointerEvents="none",n.el.style.zIndex="5"),0===r.direction){var t=we(e,n.coord,n.el),o=(0,T.Z)(t,2),a=o[0],i=o[1];e.clientY<D.DAY.HEADER.MILE_HEIGHT?n.el.style.opacity="0":(n.el.style.transform="translate(".concat(a,"px, ").concat(i,"px)"),""!==n.el.style.opacity&&(n.el.style.opacity=""))}else{var c=e.nativeEvent.clientX-r.pressX,l=r.direction<0?Math.round((D.CARD.RESIZE_TOLERANCE-c)/D.DAY.WIDTH):Math.ceil((c-D.CARD.RESIZE_TOLERANCE)/D.DAY.WIDTH);r.extraSize=Math.max(l,r.limit);var u=r.extraSize*D.DAY.WIDTH;n.el.style.width="".concat(n.width+u,"px"),r.direction<0&&(n.el.style.transform="translateX(".concat(-u,"px)"))}else e.target instanceof HTMLDivElement&&function(e){var t=e.currentTarget,n=e.target;if(n.parentElement===t){var r=t.getBoundingClientRect(),o=n.getBoundingClientRect(),a=Math.floor((e.clientY-r.top+t.scrollTop-D.DAY.HEADER.HEIGHT)/D.CARD.VERTICAL_SPACE);if(a>=0){var i=-1;Array.from(t.children).some((function(e){return e instanceof HTMLElement&&e.offsetWidth&&(i+=1),e===n})),ye.update({x1:Math.trunc((n.offsetLeft+e.clientX-o.left)/D.DAY.WIDTH)*D.DAY.WIDTH,x2:e.clientX-r.left+t.scrollLeft,y1:D.DAY.HEADER.HEIGHT+a*D.CARD.VERTICAL_SPACE,date:"".concat(i,"-").concat(Math.max(Math.floor((e.clientX-o.left)/D.DAY.WIDTH),0)+1),line:a})}}}(e)},releaseInZone:function(e){var o=xe.get();if(0===r.direction)if(n.el){if("0"===n.el.style.opacity)return;if(n.el!==e.target){var i=we(e,n.coord,n.el),l=(0,T.Z)(i,2),u=l[0],s=l[1];if(!o)throw Error("Card ID is missing, card will not be moved.");var p=Math.round(s/D.CARD.VERTICAL_SPACE),f=Math.round(u/D.DAY.WIDTH);(p||f)&&t({id:o,direction:0,lineDiff:p,dateDiff:f})}c(n.el===e.target)}else a&&(a=!1,ve(e));else{if(r.extraSize){if(!o)throw Error("Card ID is missing, card will not be resized.");t({id:o,direction:r.direction,lineDiff:0,dateDiff:r.extraSize*r.direction})}c(n.el===e.target,!0)}},enterZone:function(){a&&(a=!1),n.el&&""!==n.el.style.opacity&&(n.el.style.opacity="")},leaveZone:function(e){var t;"mouseout"!==e.type?!n.el||e.target instanceof HTMLButtonElement||0!==r.direction||(n.el.style.opacity="0"):(e.relatedTarget instanceof HTMLButtonElement||e.relatedTarget instanceof HTMLHtmlElement||e.relatedTarget instanceof HTMLSpanElement||null===e.relatedTarget||e.relatedTarget instanceof HTMLElement&&("aside"===e.relatedTarget.tagName.toLowerCase()||"aside"===(null===(t=e.relatedTarget.parentElement)||void 0===t?void 0:t.tagName.toLowerCase())))&&(ve(e),a=!1)}};var t,n,r,o,a,i,c}),[e]),v=x.pressInZone,O=x.moveInZone,E=x.releaseInZone,w=x.enterZone,P=x.leaveZone,I=function(n){if(n<0&&t.current){var r=f[0],a=pe(r.year,r.month,-W());e(ft({fromOffset:a,untilOffset:b}));var i=(u=g,s=new Date(a),p=new Date(u),s.setDate(1),p.setDate(1),le(s,p)*D.DAY.WIDTH);o.current.left=t.current.scrollLeft+i,o.current.fire=!0}else{var c=f[f.length-1],l=pe(c.year,c.month,W());e(ft({fromOffset:g,untilOffset:l}))}var u,s,p},j=(0,r.useState)(0),S=(0,T.Z)(j,2),A=S[0],C=S[1],k=(0,r.useMemo)((function(){return r.createElement(Ye,{todayRef:n,months:f},r.createElement(tt,{setLines:C}))}),[f,f.length,n]);return f.length?r.createElement(r.Fragment,null,r.createElement(ze,{scrollPosition:l,tabIndex:l?void 0:-1,onClick:function(e){t.current&&n.current&&(X(t.current,n.current,!0),e.currentTarget.blur())}},"Today"),r.createElement(_e,{ref:t,onScroll:function(e){var r=e.currentTarget,a=Math.floor(r.scrollLeft/D.DAY.WIDTH);if(o.current.days!==a){o.current.days=a,function(){var e=t.current,r=o.current;if(e&&r){var a=n.current;if(a){var i=a.getBoundingClientRect().left;i<0?u(-1):i>e.offsetWidth?u(1):u(0)}r.position=e.scrollLeft}}();var i=Math.ceil(r.offsetWidth/D.DAY.WIDTH),c=Math.ceil(r.scrollWidth/D.DAY.WIDTH);a<=i?I(-1):a>=c-2*i&&I(1)}},onMouseEnter:w,onMouseOut:P,onMouseLeave:P},r.createElement(ut,{lineCount:A}),r.createElement(Ne,{onMouseDown:v,onMouseMove:O,onMouseUp:E},k,r.createElement(Le,null)))):null};const gt=r.memo(mt);var bt=function(){var e=(0,a.v9)((function(e){return e.ui.currentRoadmapID})),t=(0,a.I0)();return(0,r.useEffect)((function(){var e=function(e){"escape"===e.key.toLocaleLowerCase()&&(e.preventDefault(),t({type:"SELECTION_CANCEL"}),ye.update({started:!1}))};return document.addEventListener("keydown",e),function(){document.removeEventListener("keydown",e)}}),[t]),e?r.createElement(gt,null):null};const ht=r.memo(bt);n(9600);var yt=(0,s.F4)(["8%,41%{transform:translateX(-10px);}25%,58%{transform:translateX(10px);}75%{transform:translateX(-5px);}92%{transform:translateX(5px);}0%,100%{transform:translateX(0);}"]),xt=(0,s.F4)(["to{transform:rotate(360deg);}"]),vt=s.ZP.section.withConfig({componentId:"sc-1c9iuev-0"})(["background:rgba(0,0,0,0.2);position:absolute;overflow-y:scroll;top:0;left:0;bottom:0;right:0;z-index:100;"]),Ot=s.ZP.form.withConfig({componentId:"sc-1c9iuev-1"})(["background:#f7f8f9;width:600px;max-width:90%;box-sizing:border-box;margin:15vh auto;padding:17px 20px 13px;box-shadow:0 0 0 0 #d22121,0 10px 10px -5px rgba(0,0,0,0.5),inset 0 0 2px rgba(0,0,0,0.5);border-radius:5px;transition:box-shadow 0.3s;user-select:none;&.invalid{animation:"," 0.3s linear;box-shadow:0 0 0 1px #d22121,0 10px 10px -5px rgba(0,0,0,0.5),inset 0 0 2px rgba(0,0,0,0.5);}"],yt),Dt=s.ZP.div.withConfig({componentId:"sc-1c9iuev-2"})(["background:#e7e7ec;margin:12px -20px -13px;padding:19px;font-size:12px;border-radius:0 0 5px 5px;box-shadow:inset 0 0 2px rgba(0,0,0,0.3);display:flex;justify-content:space-between;"]),Et=s.ZP.fieldset.withConfig({componentId:"sc-1c9iuev-3"})(["margin:0;padding:0;border:none;display:inline-flex;flex-wrap:wrap;& > label,& > span,& > input{margin-bottom:5px;}"]),wt=s.ZP.label.withConfig({componentId:"sc-1c9iuev-4"})(["font-size:14px;line-height:27px;background:#d9d9de;border:1px solid #999;margin:0 -5px 0 0;padding:0 13px 0 9px;border-radius:3px;z-index:3;"]),Pt=(0,s.ZP)(wt).attrs({as:"span"}).withConfig({componentId:"sc-1c9iuev-5"})(["padding-left:",";& + input[type='text']{width:25px;text-align:right;}"],(function(e){return e.join&&"13px"})),Tt=s.ZP.input.attrs({type:"text"}).withConfig({componentId:"sc-1c9iuev-6"})(["background:#efeff3;border:1px solid #999;border-radius:3px;margin:0 5px 0 0;padding:0 7px 0 8px;width:75px;font-size:14px;line-height:27px;z-index:5;&:focus{background:#f7f8f9;}&::last-child{margin-right:0;}&:invalid,&:invalid:focus{border-color:#d22121;outline-color:#d22121;}"]),It=(0,s.ZP)(Tt).attrs({as:"span"}).withConfig({componentId:"sc-1c9iuev-7"})(["width:auto;margin-right:-5px;"]),jt=s.ZP.input.attrs({type:"range"}).withConfig({componentId:"sc-1c9iuev-8"})(["height:5px;display:block;margin:11px 0 0;appearance:none;background:#2196f3;border-radius:4px;box-shadow:inset 0 0px 1px 0px #333;&::-webkit-slider-thumb{appearance:none;display:block;width:17px;height:17px;background:#fff;border-radius:50%;box-shadow:0 1px 1px 0px rgba(0,0,0,0.2),inset 0 0 1px #555;}&::-moz-range-thumb,&::-ms-thumb{appearance:none;display:block;width:17px;height:17px;background:#fff;border-radius:50%;box-shadow:0 1px 1px 0px rgba(0,0,0,0.2),inset 0 0 1px #555;}&:disabled{background:#999;}& + input[type='text']{width:24px;text-align:right;}"]),St=s.ZP.div.withConfig({componentId:"sc-1c9iuev-9"})(["flex:1;line-height:0;& hr{background:transparent;border:none;margin:0 auto;padding-right:5px;}& svg{width:15px;height:15px;margin:3px;opacity:0;z-index:1;transform:translate(-40px,0) scale(0.1);transition:transform ease-in 0.1s,opacity ease-in 0.1s;&.active{opacity:1;transform:none;}}"]),At=s.ZP.div.withConfig({componentId:"sc-1c9iuev-10"})(["flex:0;"]),Ct=s.ZP.textarea.attrs((function(e){return{placeholder:e.placeholder?e.placeholder:"Task name",rows:1}})).withConfig({componentId:"sc-1c9iuev-11"})(["font:inherit;width:100%;padding:0;border:none;background:transparent;overflow:hidden;resize:none;&:focus{outline:none;}"]),kt=(n(5192),n(3375)),Lt=n(7252),Rt=n(6688),Mt=function(e){return"danger"===e.action?"#d22121":"#5e88ad"},Zt=s.ZP.button.attrs({type:"button"}).withConfig({componentId:"sc-1xd444-0"})(["border:none;width:100%;margin:0;padding:6px 10px 5px;font-size:12px;z-index:1;position:relative;color:#777;background:#f7f8f9;box-shadow:0 2px 6px -1px rgba(0,0,0,0.2),inset 0 0 0 1px #999;&:hover:not(:disabled),&:focus:not(:disabled){z-index:2;cursor:pointer;color:",";box-shadow:0 3px 6px -1px rgba(0,0,0,0.4),inset 0 0 0 1px ",";}svg{width:23px;display:none;fill:currentColor;margin:-3px -7px -5px;}& + &{margin-top:-1px;}&:disabled{color:#ccc;background:#eee;}&:first-child{border-radius:3px 3px 0 0;}&:last-child{border-radius:0 0 3px 3px;}@media (max-width:768px){span{display:none;}svg{display:inline-block;}}"],Mt,Mt),_t=(n(4048),function(e){var t=e.id,n=e.min,o=e.max,a=e.value,i=e.disabled,c=e.change,l=e.save,u=e.title,s=e.join,p=(0,r.useState)(a),f=(0,T.Z)(p,2),d=f[0],m=f[1],g=function(e){var t=Math.min(Math.max(parseInt(e.target.value,10),n),o);Number.isNaN(t)||(m(t),c&&c(t))};return r.createElement(r.Fragment,null,"string"==typeof u?r.createElement("label",{htmlFor:t},u):null,r.createElement(Pt,{join:s},r.createElement(jt,{id:t,min:n,max:o,disabled:i,value:d,onChange:g})),r.createElement(Tt,{value:d,onChange:g,onKeyDown:function(e){"enter"===e.key.toLocaleLowerCase()&&(e.preventDefault(),l())},disabled:i}))});const Nt=r.memo(_t);var Ht=s.ZP.label.withConfig({componentId:"sc-1abys15-0"})(["position:relative;display:block;width:38px;height:21px;margin:3px 0;input{opacity:0;width:0;height:0;&:checked + span{background-color:#2196f3;}&:focus + span{box-shadow:0 0 0 1px #efeff3,0 0 0 3px #025fcc,0 0 0 4px #fff;}&:checked + span:before{transform:translateX(17px);}}span{position:absolute;cursor:pointer;top:0;left:0;right:0;bottom:0;background-color:#999;transition:0.1s;border-radius:12px;&:before{position:absolute;content:'';height:17px;width:17px;left:2px;bottom:2px;background-color:white;transition:0.1s;border-radius:50%;}}"]),Ut=function(e){var t=e.id,n=e.value,o=e.toggle,a=e.title;return r.createElement(r.Fragment,null,"string"==typeof a?r.createElement(wt,{htmlFor:t},a):null,r.createElement(It,null,r.createElement(Ht,null,r.createElement("input",{type:"checkbox",id:t,defaultChecked:n,onChange:function(){return o(!n)}}),r.createElement("span",null))))};const zt=r.memo(Ut);var Yt=function(e){var t=e.date,n=e.setDate,o=e.save,a=e.title,i=e.setFocus,c=(0,r.useRef)(null);(0,r.useLayoutEffect)((function(){null!==c&&c.current instanceof HTMLInputElement&&(c.current.focus(),c.current.select())}),[]);var l=a.toLowerCase();return void 0===t?null:r.createElement(Et,null,r.createElement(wt,{htmlFor:l},a),r.createElement(Tt,{id:l,ref:i?c:void 0,value:t,onChange:n,onKeyDown:function(e){"enter"===e.key.toLocaleLowerCase()&&(e.preventDefault(),o())},required:!0,pattern:"([12]\\d{3}-(0[1-9]|1[0-2])-(0[1-9]|[12]\\d|3[01]))"}))};const Ft=r.memo(Yt);n(3210);var Wt=n(9041),Vt=s.ZP.div.withConfig({componentId:"sc-1vhz16s-0"})(["line-height:normal;border:1px solid #ccc;border-radius:4px;padding:6px 7px 6px 6px;margin-right:19px;.public-DraftEditor-content span[style*='font-family: monospace']{color:#670000;padding:0 2px;border:1px solid #ccc;border-radius:4px;}.public-DraftStyleDefault-pre{padding:3px 4px;border:1px solid #ccc;border-radius:4px;white-space:pre;font-family:monospace;pre{margin:0;}}.DraftEditor-editorContainer,.DraftEditor-root,.public-DraftEditor-content{height:inherit;text-align:initial;}.public-DraftEditor-content[contenteditable='true']{-webkit-user-modify:read-write-plaintext-only;}.DraftEditor-root{position:relative;}.DraftEditor-editorContainer{background-color:rgba(255,255,255,0);border-left:0.1px solid transparent;position:relative;z-index:1;}.public-DraftEditor-block{position:relative;}.DraftEditor-alignLeft .public-DraftStyleDefault-block{text-align:left;}.DraftEditor-alignLeft .public-DraftEditorPlaceholder-root{left:0;text-align:left;}.DraftEditor-alignCenter .public-DraftStyleDefault-block{text-align:center;}.DraftEditor-alignCenter .public-DraftEditorPlaceholder-root{margin:0 auto;text-align:center;width:100%;}.DraftEditor-alignRight .public-DraftStyleDefault-block{text-align:right;}.DraftEditor-alignRight .public-DraftEditorPlaceholder-root{right:0;text-align:right;}.public-DraftEditorPlaceholder-root{color:#9197a3;position:absolute;width:100%;z-index:1;}.public-DraftEditorPlaceholder-hasFocus{color:#bdc1c9;}.DraftEditorPlaceholder-hidden{display:none;}.public-DraftStyleDefault-block{position:relative;white-space:pre-wrap;line-height:1.2em;}.public-DraftStyleDefault-ltr{direction:ltr;text-align:left;}.public-DraftStyleDefault-rtl{direction:rtl;text-align:right;}.public-DraftStyleDefault-listLTR{direction:ltr;}.public-DraftStyleDefault-listRTL{direction:rtl;}.public-DraftStyleDefault-ol,.public-DraftStyleDefault-ul{margin:16px 0;padding:0;}.public-DraftStyleDefault-depth0.public-DraftStyleDefault-listLTR{margin-left:2.5em;}.public-DraftStyleDefault-depth0.public-DraftStyleDefault-listRTL{margin-right:2.5em;}.public-DraftStyleDefault-depth1.public-DraftStyleDefault-listLTR{margin-left:5em;}.public-DraftStyleDefault-depth1.public-DraftStyleDefault-listRTL{margin-right:5em;}.public-DraftStyleDefault-depth2.public-DraftStyleDefault-listLTR{margin-left:7.5em;}.public-DraftStyleDefault-depth2.public-DraftStyleDefault-listRTL{margin-right:7.5em;}.public-DraftStyleDefault-depth3.public-DraftStyleDefault-listLTR{margin-left:10em;}.public-DraftStyleDefault-depth3.public-DraftStyleDefault-listRTL{margin-right:10em;}.public-DraftStyleDefault-depth4.public-DraftStyleDefault-listLTR{margin-left:12.5em;}.public-DraftStyleDefault-depth4.public-DraftStyleDefault-listRTL{margin-right:12.5em;}.public-DraftStyleDefault-unorderedListItem{list-style-type:square;position:relative;}.public-DraftStyleDefault-unorderedListItem.public-DraftStyleDefault-depth0{list-style-type:disc;}.public-DraftStyleDefault-unorderedListItem.public-DraftStyleDefault-depth1{list-style-type:circle;}.public-DraftStyleDefault-orderedListItem{list-style-type:none;position:relative;}.public-DraftStyleDefault-orderedListItem.public-DraftStyleDefault-listLTR:before{left:-2.5em;position:absolute;text-align:right;width:2em;line-height:1.2em;}.public-DraftStyleDefault-orderedListItem.public-DraftStyleDefault-listRTL:before{position:absolute;right:-2.5em;text-align:left;width:2em;line-height:1.2em;}.public-DraftStyleDefault-orderedListItem:before{content:counter(ol0) '. ';counter-increment:ol0;}.public-DraftStyleDefault-orderedListItem.public-DraftStyleDefault-depth1:before{content:counter(ol1,lower-alpha) '. ';counter-increment:ol1;}.public-DraftStyleDefault-orderedListItem.public-DraftStyleDefault-depth2:before{content:counter(ol2,lower-roman) '. ';counter-increment:ol2;}.public-DraftStyleDefault-orderedListItem.public-DraftStyleDefault-depth3:before{content:counter(ol3) '. ';counter-increment:ol3;}.public-DraftStyleDefault-orderedListItem.public-DraftStyleDefault-depth4:before{content:counter(ol4,lower-alpha) '. ';counter-increment:ol4;}.public-DraftStyleDefault-depth0.public-DraftStyleDefault-reset{counter-reset:ol0;}.public-DraftStyleDefault-depth1.public-DraftStyleDefault-reset{counter-reset:ol1;}.public-DraftStyleDefault-depth2.public-DraftStyleDefault-reset{counter-reset:ol2;}.public-DraftStyleDefault-depth3.public-DraftStyleDefault-reset{counter-reset:ol3;}.public-DraftStyleDefault-depth4.public-DraftStyleDefault-reset{counter-reset:ol4;}"]);function Gt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Kt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Gt(Object(n),!0).forEach((function(t){(0,p.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Gt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}n(9601);var Xt=n(3279);function Bt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function qt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Bt(Object(n),!0).forEach((function(t){(0,p.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Bt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Jt=n.n(Xt)()((function(e){return e()}),D.TIME.AUTOSAVE_MS),Qt={STRIKETHROUGH:{textDecoration:"line-through"},HIGHLIGHT:{backgroundColor:"#edff00"}},$t=function(){var e=(0,a.I0)(),t=(0,a.v9)((function(e){return e.selection.id})),n=(0,a.v9)((function(e){return e.longs[t]})),o=(0,r.useState)((function(){return n?Wt.EditorState.createWithContent((e=n,(0,Wt.convertFromRaw)(JSON.parse(e)))):Wt.EditorState.createEmpty();var e})),i=(0,T.Z)(o,2),c=i[0],l=i[1],u=function(n){return e({type:"EDIT_LONG",payload:Kt({},{cardID:t,long:n})})},s=function(e){return p(Wt.RichUtils.onTab(e,c,4))},p=function(e){l(e),e.getCurrentContent()!==c.getCurrentContent()&&Jt((function(){return function(e){var t=e.getCurrentContent();if(t.getPlainText().trim().length){var r=function(e){return JSON.stringify(qt(qt({},t=(0,Wt.convertToRaw)(e)),{},{blocks:t.blocks.map((function(e){var t=Object.assign({},e);return"unstyled"===e.type&&delete t.type,0===e.depth&&delete t.depth,0===e.inlineStyleRanges.length&&delete t.inlineStyleRanges,0===e.entityRanges.length&&delete t.entityRanges,e.data&&0===Object.keys(e.data).length&&delete t.data,t}))}));var t}(t);n!==r&&u(r)}else void 0!==n&&u("")}(e)}))};return(0,r.useEffect)((function(){return function(){return Jt.cancel()}}),[]),r.createElement(Vt,null,r.createElement(Wt.Editor,{editorState:c,onChange:p,onBlur:function(){return Jt.flush()},onTab:s,placeholder:"Add more context...",handleKeyCommand:function(e){switch(e){case"bold":case"code":case"italic":case"strikethrough":case"underline":case"highlight":var t=Wt.RichUtils.handleKeyCommand(c,e)||Wt.RichUtils.toggleInlineStyle(c,e.toUpperCase());return t?(p(t),"handled"):"not-handled";case"indent-minus":case"indent-plus":var n="plus"!==e.split("-")[1];return s({shiftKey:n,preventDefault:function(){}}),"handled";default:return"not-handled"}},keyBindingFn:function(e){if(Wt.KeyBindingUtil.hasCommandModifier(e)){switch(e.code){case"KeyB":return"bold";case"KeyM":return"code";case"KeyI":return"italic";case"KeyH":return"highlight";case"KeyU":return"underline";case"KeyS":return"strikethrough";case"BracketLeft":return"indent-minus";case"BracketRight":return"indent-plus"}if(e.shiftKey&&"KeyX"===e.code)return"strikethrough"}return(0,Wt.getDefaultKeyBinding)(e)},customStyleMap:Qt}))};const en=r.memo($t);function tn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function nn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?tn(Object(n),!0).forEach((function(t){(0,p.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):tn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var rn=function(e){var t=e.selection,n=e.setSelection,o=e.cardDispatch,i=e.setFocus,c=(0,a.v9)((function(e){return e.ui.todayTimestamp})),l=(0,r.useMemo)((function(){return ie(c)}),[c]),u=t.progress||0,s=Number.isFinite(t.progress),f=function(e){return function(r){return n(nn(nn({},t),{},(0,p.Z)({},e,r.target.value)))}},d=f("from"),m=f("until"),g=t.from,b=t.until;return r.createElement(Dt,null,r.createElement(St,null,r.createElement(Ft,{date:g,setDate:d,save:o.save,title:"From",setFocus:i}),r.createElement(Ft,{date:b,setDate:m,save:o.save,title:"Until"}),r.createElement(Et,null,r.createElement(zt,{id:"showProgress",value:s,toggle:function(e){e?t.progress=u:delete t.progress,n(nn({},t))},title:"Completion"}),r.createElement(Nt,{id:"progress",min:0,max:100,disabled:!s,value:u,change:function(e){return n(nn(nn({},t),{},{progress:e}))},save:o.save,join:!0}),g&&b&&"number"==typeof u&&r.createElement(Je,{type:G(g,b,l,u),className:s?"active":void 0})),r.createElement(en,null)),r.createElement(At,null,r.createElement(Zt,{onClick:o.save,title:"Save changes",action:"primary"},r.createElement(kt.Z,null),r.createElement("span",null,"Save")),r.createElement(Zt,{onClick:o.cancel,title:"Revert changes"},r.createElement(Lt.Z,null),r.createElement("span",null,"Revert")),r.createElement(Zt,{onClick:o.delete,title:"Delete card",action:"danger"},r.createElement(Rt.Z,null),r.createElement("span",null,"Delete"))))};const on=r.memo(rn);function an(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function cn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?an(Object(n),!0).forEach((function(t){(0,p.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):an(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ln=function(e){var t=e.selection,n=e.setSelection,o=e.cardDispatch,a=e.enforceExtraFields,i=(0,r.useRef)(null);return(0,r.useLayoutEffect)((function(){null!==i&&null!==i.current&&K(i.current,!0)}),[t.id]),r.createElement(Ct,{ref:i,autoFocus:!0,onChange:function(e){K(e.target),n(cn(cn({},t),{},{text:e.target.value}))},onKeyDown:function(e){"enter"===e.key.toLocaleLowerCase()?(e.preventDefault(),o.save()):"tab"===e.key.toLocaleLowerCase()&&a&&(e.preventDefault(),a(!0))},value:t.text})};const un=r.memo(ln);var sn={id:"",text:"",line:0,from:"",until:""},pn=function(){var e=(0,a.I0)(),t=(0,a.v9)((function(e){return e.selection})),n=(0,a.v9)((function(e){return t.isNew?void 0:e.cards[t.id]})),o=(0,r.useState)(void 0!==n),i=(0,T.Z)(o,2),c=i[0],l=i[1],u=(0,r.useState)(sn),s=(0,T.Z)(u,2),p=s[0],f=s[1],d=(0,r.useState)(!1),m=(0,T.Z)(d,2),g=m[0],b=m[1];if((0,r.useEffect)((function(){g&&setTimeout((function(){return b(!1)}),500)}),[g]),(0,r.useEffect)((function(){return""===t.id?l(void 0!==n):f({id:(n||t).id,text:(n||t).text,line:(n||t).line,from:(n||t).from,until:(n||t).until,progress:(n||t).progress}),function(){f(sn)}}),[t,n]),""===t.type||""===p.id)return null;var h={save:function(){return function(e){return""!==e.id&&e.line>=0&&""!==e.text&&(void 0===e.progress||Number.isInteger(e.progress)&&e.progress>=0&&e.progress<=100)&&10===e.from.length&&10===e.until.length&&le(e.from,e.until)>=0}(p)?e(function(e,t){if(!t)return!0;var n=Object.keys(e),r=Object.keys(t);return n.length!==r.length||n.some((function(n){return t[n]!==e[n]}))||r.some((function(n){return t[n]!==e[n]}))}(p,n)?{type:"EDIT_CARD",payload:Te({},p)}:{type:"SELECTION_CANCEL"}):void b(!0)},cancel:function(){return e({type:"SELECTION_CANCEL"})},delete:function(){e(n?F({id:p.id}):{type:"SELECTION_CANCEL"})}},y=c||Boolean(n);return r.createElement(vt,{onClick:function(e){e.target===e.currentTarget&&h.cancel()},"data-form":"edit"},r.createElement(Ot,{className:g?"invalid":void 0},r.createElement(un,{selection:p,setSelection:f,cardDispatch:h,enforceExtraFields:y?void 0:l}),y?r.createElement(on,{selection:p,setSelection:f,cardDispatch:h,setFocus:c}):null))};const fn=r.memo(pn);var dn=function(){var e=(0,l.s0)(),t=(0,l.TH)(),n=(0,a.I0)(),o=(0,l.bS)("".concat(D.URL.PLAN,":id")).params.id||"",i=(0,a.v9)((function(e){return e.user.roadmapsSet})),c=(0,a.v9)((function(e){return e.ui.currentRoadmapID})),u=Object.keys((0,a.v9)((function(e){return e.user.roadmaps})));return(0,r.useEffect)((function(){return i&&(u.length&&u.includes(o)?c!==o&&n(function(e){return{type:"SET_CURRENT_ROADMAP",payload:{currentRoadmapID:e}}}(o)):e(D.URL.ROOT)),function(){c&&t.pathname!==document.location.pathname&&n({type:"REMOVE_CURRENT_ROADMAP"})}}),[e,t,n,i,c,o,u]),r.createElement(r.Fragment,null,r.createElement(ht,null),r.createElement(fn,null))};const mn=r.memo(dn);n(2707);var gn=(0,s.iv)(["width:",";height:",";margin:auto;border:",";border-top-color:",";border-radius:50%;animation:"," 1s linear infinite;position:absolute;top:0;left:0;right:0;bottom:0;"],(function(e){var t=e.size;return"".concat(void 0===t?50:t,"px")}),(function(e){var t=e.size,n=void 0===t?50:t;return n?"".concat(n,"px"):"50px"}),(function(e){var t=e.size,n=void 0===t?50:t;return"".concat(Math.ceil(n/10),"px solid transparent")}),(function(e){return e.size?h.logo.green:h.text.onDark.main}),xt),bn=s.ZP.div.withConfig({componentId:"sc-yy4z58-0"})(["",""],gn),hn=s.ZP.section.withConfig({componentId:"sc-1sxfnou-0"})(["margin:20px 5vw;display:flex;flex-flow:wrap;"]),yn=s.ZP.span.withConfig({componentId:"sc-1sxfnou-1"})(["display:inline-block;width:100%;padding:0 5px;font-size:16px;box-sizing:border-box;"]),xn=s.ZP.span.withConfig({componentId:"sc-1sxfnou-2"})(["color:#777;padding:1px 3px 1px 4px;border-radius:4px;font-weight:100;letter-spacing:0.05em;font-size:12px;float:right;border:1px solid #999;cursor:help;"]),vn=(0,s.ZP)(c.rU).withConfig({componentId:"sc-1sxfnou-3"})(["display:flex;flex:1 1 30%;min-width:250px;margin:10px 5px 0;padding:15px 17px 15px;border-radius:4px;box-sizing:border-box;text-decoration:none;flex-flow:column wrap;background:hsl(190deg 100% 45%);text-align:center;color:#ffffff;&:hover{filter:brightness(1.3);}&:nth-of-type(5n - 4){background:hsl(240deg 100% 71%);}&:nth-of-type(5n - 3){background:hsl(9deg 100% 71%);}&:nth-of-type(5n - 2){background:hsl(280deg 100% 71%);}&:nth-of-type(5n - 1){background:hsl(0deg 60% 54%);}span{width:50px;height:50px;display:block;margin:0 auto;line-height:50px;text-align:center;border-radius:6px;border:1px solid #fff6;&:empty{display:none;}}p{flex-grow:1;font-size:20px;font-weight:900;line-height:1.1em;letter-spacing:-0.02em;}small{font-size:10px;display:block;}time:not(:empty) + time:not(:empty){&:before{content:'•';padding:0 5px;}&:after{content:'';display:block;height:12px;}}footer{margin:0 auto;font-size:10px;padding:12px 3em 0;border-top:1px solid #fff6;}"]),On=s.ZP.button.attrs({type:"button"}).withConfig({componentId:"sc-1sxfnou-4"})(["width:100%;margin:10px 5px 0;padding:10px;border-radius:4px;appearance:none;background:none;border:1px solid #aaa;font-size:16px;color:#aaa;cursor:pointer;&:hover{color:",";border-color:",";}"],h.accent.active,h.accent.active),Dn=D.PLAN.FREE.LIMIT.ROADMAPS,En=function(e){var t=e.showInput,n=(0,a.v9)((function(e){return e.user.roadmapsSet})),o=(0,a.v9)((function(e){return e.user.roadmaps})),i=(0,a.v9)((function(e){return e.metas})),c=(0,a.v9)((function(e){return e.user}));if(!c.fetchig&&!c.id)return r.createElement(bn,null);if(!n)return null;var l=Object.keys(o);return r.createElement(hn,null,r.createElement(yn,null,"Your plans",r.createElement(xn,{title:"".concat(Dn," plans are available in your account")},l.length,"/",Dn)),l.sort((function(e,t){return i[e]&&i[t]&&i[e].createdAt-i[t].createdAt})).map((function(e,t){var n,o,a,c;return t<Dn&&r.createElement(vn,{key:e,to:"".concat(D.URL.PLAN).concat(e,"/")},r.createElement("span",{title:"".concat(null===(n=i[e].stats)||void 0===n?void 0:n.cards," cards")},null===(o=i[e].stats)||void 0===o?void 0:o.cards),r.createElement("p",null,i[e].name),r.createElement("small",null,r.createElement("time",null,ce(null===(a=i[e].stats)||void 0===a?void 0:a.from)),r.createElement("time",null,ce(null===(c=i[e].stats)||void 0===c?void 0:c.until))),r.createElement("footer",null,r.createElement("small",null,"Created: ",function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ae();return new Intl.DateTimeFormat(D.LOCALE,{dateStyle:"long",timeStyle:"short"}).format(e)}(i[e].createdAt))))})),l.length<Dn&&r.createElement(On,{onClick:function(){return t(!0)}},"Create a new plan"))};const wn=r.memo(En);var Pn=function(e){K(e.target)},Tn=function(e){var t=e.isShowingInput,n=e.showInput,o=e.roadmapName,a=e.setRoadmapName,i=(0,r.useRef)(null);return(0,r.useLayoutEffect)((function(){null!==i&&null!==i.current&&K(i.current,!0)}),[]),t?r.createElement(vt,{onClick:function(e){e.target===e.currentTarget&&n(!1)}},r.createElement(Ot,null,r.createElement(Ct,{ref:i,autoFocus:!0,onChange:Pn,onKeyDown:function(e){if("enter"===e.key.toLocaleLowerCase()){e.preventDefault();var t=e.currentTarget.value;""!==t&&o!==t&&a(t),n(!1)}else"escape"===e.key.toLocaleLowerCase()&&n(!1)},placeholder:"Roadmap name"}))):null};const In=r.memo(Tn);var jn=function(){var e=(0,r.useState)(!1),t=(0,T.Z)(e,2),n=t[0],o=t[1],i=(0,r.useState)(""),c=(0,T.Z)(i,2),l=c[0],u=c[1],s=(0,a.I0)();return(0,r.useEffect)((function(){l&&s(function(e){return{type:"ADD_ACCOUNT_ROADMAP",payload:{roadmapName:e}}}(l))}),[s,l]),r.createElement(r.Fragment,null,r.createElement(wn,{showInput:o}),r.createElement(In,{isShowingInput:n,showInput:o,roadmapName:l,setRoadmapName:u}))};const Sn=r.memo(jn);var An=function(){return r.createElement(l.Z5,null,r.createElement(l.AW,{path:"".concat(D.URL.PLAN,":id"),element:r.createElement(mn,null)}),r.createElement(l.AW,{path:"".concat(D.URL.ROOT),element:r.createElement(Sn,null)}))};const Cn=r.memo(An);var kn,Ln=s.ZP.main.withConfig({componentId:"sc-1wl9v1d-0"})(["overflow:scroll;position:relative;height:calc(100vh - 45px);&:empty:before{content:'';","}"],gn),Rn=function(){var e=(0,a.v9)((function(e){return e.ui.todayTimestamp})),t=(0,a.I0)();(0,r.useEffect)((function(){var n=function(){if(document.hidden)window.clearTimeout(kn);else{var n=ae();e!==n?t(dt(n)):kn=window.setTimeout((function(){t(dt(ae()))}),function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=new Date;return new Date(t.getFullYear(),t.getMonth(),t.getDate()+e).getTime()-t.getTime()}())}};return n(),document.addEventListener("visibilitychange",n),function(){document.removeEventListener("visibilitychange",n)}}),[t,e]);var n=(0,a.v9)((function(e){return e.user})),o=n.fetchig,i=n.id,c=(0,l.TH)(),u=(0,l.s0)(),s=c.pathname===D.URL.LOGIN,p=!o&&""!==i;return(0,r.useEffect)((function(){s?o||""!==i?o||""===i||u(D.URL.ROOT):function(){if("function"==typeof S.Z.auth){var e=new S.Z.auth.GoogleAuthProvider;S.Z.auth().useDeviceLanguage(),S.Z.auth().signInWithRedirect(e)}}():o||""!==i||window.location.assign(D.URL.INDEX)}),[u,s,o,i]),r.createElement(r.Fragment,null,r.createElement(z,{isLoggedIn:p}),r.createElement(Ln,null,o?null:r.createElement(Cn,null)))};const Mn=r.memo(Rn);var Zn=n(7779),_n=n(8500);n(7397),n(4642),n(7650);const Nn={user:{id:"",name:"",email:"",photoURL:"",fetchig:!1,roadmaps:{},roadmapsSet:!1},cards:{},lines:{names:{}},longs:{},milestones:{},selection:{id:"",isNew:!1,line:0,type:Ie.none,text:"",from:"",until:""},metas:{},ui:{currentRoadmapID:"",todayTimestamp:ae(),cardsPosition:"",fromOffset:"",untilOffset:""}};function Hn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Un(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Hn(Object(n),!0).forEach((function(t){(0,p.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Hn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function zn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Yn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?zn(Object(n),!0).forEach((function(t){(0,p.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):zn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Fn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Wn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Fn(Object(n),!0).forEach((function(t){(0,p.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Fn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Vn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Gn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Vn(Object(n),!0).forEach((function(t){(0,p.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Vn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Kn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Xn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Kn(Object(n),!0).forEach((function(t){(0,p.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Kn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Bn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function qn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Bn(Object(n),!0).forEach((function(t){(0,p.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Bn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Jn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Qn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Jn(Object(n),!0).forEach((function(t){(0,p.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Jn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function $n(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function er(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?$n(Object(n),!0).forEach((function(t){(0,p.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$n(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const tr=(0,Zn.UY)({cards:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Nn.cards,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"EDIT_CARD":return(0,i.ZP)(e,(function(e){return Number.isInteger(t.payload.progress)||delete t.payload.progress,e[t.payload.id]=Un({},t.payload),e}));case"MOVE_CARD":return(0,i.ZP)(e,(function(e){var n=e[t.payload.id],r=fe(t.payload,[n.from,n.until]),o=(0,T.Z)(r,2),a=o[0],i=o[1],c=Math.max(n.line+t.payload.lineDiff,0);return e[t.payload.id]=Un(Un({},e[t.payload.id]),{},{line:c,from:a,until:i}),e}));case"SELECTION_DELETE":return void 0!==e[t.payload.id]?(0,i.ZP)(e,(function(e){return delete e[t.payload.id],e})):e;case"ROADMAP_DATA_FETCH":return Un({},t.payload.cards);case"REMOVE_CURRENT_ROADMAP":case"AUTH_OUT":return Nn.cards;default:return e}},lines:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Nn.lines,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ROADMAP_DATA_FETCH":return Yn({},t.payload.lines);case"EDIT_LINE_NAME":return(0,i.ZP)(e,(function(e){return t.payload.text.length?Yn(Yn({},e),{},{names:Yn(Yn({},e.names),{},(0,p.Z)({},t.payload.line,t.payload.text))}):(delete e.names[t.payload.line],e)}));case"REMOVE_CURRENT_ROADMAP":case"AUTH_OUT":return Nn.lines;default:return e}},longs:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Nn.longs,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ROADMAP_DATA_FETCH":return Wn({},t.payload.longs);case"EDIT_LONG":return(0,i.ZP)(e,(function(e){return Wn(Wn({},e),{},(0,p.Z)({},t.payload.cardID,t.payload.long))}));case"REMOVE_CURRENT_ROADMAP":case"AUTH_OUT":return Nn.longs;default:return e}},milestones:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Nn.milestones,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_MILESTONE":return(0,i.ZP)(e,(function(e){return e[t.payload.id]=Gn({},t.payload),e}));case"DELETE_MILESTONE":return(0,i.ZP)(e,(function(e){return Object.values(e).forEach((function(n){n.date===t.payload.date&&delete e[n.id]})),e}));case"ROADMAP_DATA_FETCH":return Gn({},t.payload.milestones);case"REMOVE_CURRENT_ROADMAP":case"AUTH_OUT":return Nn.milestones;default:return e}},selection:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Nn.selection,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"NEW_CARD":case"SELECT_CARD":return(0,i.ZP)(e,(function(e){return Xn(Xn(Xn({},e),t.payload),{},{type:Ie.card})}));case"SELECTION_CANCEL":case"SELECTION_DELETE":case"EDIT_CARD":return(0,i.ZP)(e,(function(){return Nn.selection}));case"AUTH_OUT":return Nn.selection;default:return e}},metas:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Nn.metas,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_ACCOUNT_ROADMAPS":return(0,i.ZP)(e,(function(e){return qn(qn({},e),t.payload.meta)}));case"ROADMAP_UPDATE_META":return(0,i.ZP)(e,(function(e){return qn(qn({},e),{},(0,p.Z)({},t.payload.roadmapID,qn(qn({},e[t.payload.roadmapID]),{},{stats:t.payload.stats})))}));case"AUTH_OUT":return Nn.metas;default:return e}},user:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Nn.user,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"AUTH_FETCH":return(0,i.ZP)(e,(function(e){return Qn(Qn({},e),{},{fetchig:!0})}));case"AUTH_SUCCESS":return(0,i.ZP)(e,(function(e){return Qn(Qn(Qn({},e),t.payload),{},{fetchig:!1})}));case"AUTH_OUT":return Nn.user;case"SET_ACCOUNT_ROADMAPS":return(0,i.ZP)(e,(function(e){return Qn(Qn({},e),{},{roadmaps:Qn(Qn({},e.roadmaps),t.payload.roadmaps),roadmapsSet:!0})}));case"SET_ACCOUNT_ROADMAP_SETTING":return(0,i.ZP)(e,(function(e){return Qn(Qn({},e),{},{roadmaps:Qn(Qn({},e.roadmaps),{},(0,p.Z)({},t.payload.roadmapID,Qn(Qn({},e.roadmaps[t.payload.roadmapID]),{},(0,p.Z)({},t.payload.settingName,t.payload.settingValue))))})}));case"REMOVE_ACCOUNT_ROADMAP":return(0,i.ZP)(e,(function(e){return delete e.roadmaps[t.payload.roadmapID],e}));default:return e}},ui:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Nn.ui,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_CURRENT_ROADMAP":return(0,i.ZP)(e,(function(e){return er(er({},e),{},{currentRoadmapID:t.payload.currentRoadmapID})}));case"REMOVE_CURRENT_ROADMAP":return(0,i.ZP)(e,(function(e){return er(er({},e),{},{currentRoadmapID:"",cardsPosition:"",fromOffset:"",untilOffset:""})}));case"AUTH_OUT":return Nn.ui;case"ROADMAP_DATA_FETCH":return""!==e.cardsPosition&&""!==e.fromOffset&&""!==e.untilOffset?e:(0,i.ZP)(e,(function(e){var n=ge(t.payload.cards),r=n.from,o=n.until,a=ie(e.todayTimestamp),i=be(r,o,a),c=i.fromOffset,l=i.untilOffset;return r&&o||(r=r||a,o=o||a),er(er({},e),{},{cardsPosition:"".concat(r.slice(0,7),"-01"),fromOffset:c,untilOffset:l})}));case"SET_UI_OFFSET":return e.fromOffset===t.payload.fromOffset&&e.untilOffset===t.payload.untilOffset?e:(0,i.ZP)(e,(function(e){return er(er({},e),t.payload)}));case"SET_TODAY_TIMESTAMP":return(0,i.ZP)(e,(function(e){return er(er({},e),{},{todayTimestamp:t.payload.timestamp})}));default:return e}}});var nr=n(7757),rr=n.n(nr),or=n(4857),ar=(n(2165),n(6992),n(3948),n(9753),n(5861)),ir=n(5987),cr=["id"];function lr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ur(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?lr(Object(n),!0).forEach((function(t){(0,p.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):lr(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var sr=function(e){return(0,A.GG)((function(t){var n=S.Z.database().ref("roadmaps/".concat(e));return n.on("value",(function(e){var r=e.val();r?t(r):(t(A.uR),n.off())})),function(){n.off()}}))},pr=function(e){return S.Z.database().ref("users/".concat(e)).once("value")},fr=function(e){return S.Z.database().ref("roadmaps/".concat(e,"/meta/")).once("value")},dr=function(e,t){S.Z.database().ref("roadmaps/".concat(e,"/meta/stats/")).update(ur({},t))},mr=function(e,t){var n=t.id,r=(0,ir.Z)(t,cr),o=S.Z.database().ref("roadmaps/".concat(e,"/cards/").concat(n));Object.keys(r).length?o.update(ur({progress:null},r)):o.remove()},gr=function(e,t){var n=t.line,r=t.text;S.Z.database().ref("roadmaps/".concat(e,"/lines/names/")).update((0,p.Z)({},n,r.length?r:null))},br=function(e,t,n){var r=S.Z.database().ref("roadmaps/".concat(e,"/longs/").concat(t,"/"));n?r.set(n):r.remove()},hr=function(){var e=(0,ar.Z)(rr().mark((function e(t,n,r){var o;return rr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(o=S.Z.database().ref("users/".concat(t,"/roadmaps/")).push().key)){e.next=7;break}return e.next=4,S.Z.database().ref("users/".concat(t,"/roadmaps/")).update((0,p.Z)({},o,{lineNameWidth:0}));case 4:return e.next=6,S.Z.database().ref("roadmaps/".concat(o,"/meta/")).update({name:r,createdAt:n,ownerID:t,stats:{from:"",cards:0,until:""}});case 6:return e.abrupt("return",o);case 7:return e.abrupt("return","");case 8:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),yr=function(e){var t=e.userID,n=e.roadmapID,r=e.settingName,o=e.settingValue,a=S.Z.database().ref("users/".concat(t,"/roadmaps/").concat(n,"/").concat(r));void 0!==o?a.set(o):a.remove()},xr=function(e){S.Z.database().ref("users/".concat(e.id)).set({name:e.name})},vr=rr().mark(wr),Or=rr().mark(Pr);function Dr(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return Er(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Er(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,c=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return i=e.done,e},e:function(e){c=!0,a=e},f:function(){try{i||null==n.return||n.return()}finally{if(c)throw a}}}}function Er(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function wr(e){var t,n,r,o,a,i,c,l,u;return rr().wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,(0,or.RE)(pr,e);case 2:return t=s.sent,s.next=5,t.val();case 5:if(n=s.sent){s.next=12;break}return s.next=9,(0,or.Ys)((function(e){return e.user}));case 9:return r=s.sent,s.next=12,(0,or.RE)(xr,r);case 12:if(null==n||!n.roadmaps){s.next=49;break}if(!(o=Object.keys(n.roadmaps)).length){s.next=45;break}a={},i=Dr(o),s.prev=17,i.s();case 19:if((c=i.n()).done){s.next=33;break}return l=c.value,s.prev=21,s.next=24,(0,or.RE)(fr,l);case 24:u=s.sent,a[l]=u.val(),s.next=31;break;case 28:s.prev=28,s.t0=s.catch(21),delete n.roadmaps[l];case 31:s.next=19;break;case 33:s.next=38;break;case 35:s.prev=35,s.t1=s.catch(17),i.e(s.t1);case 38:return s.prev=38,i.f(),s.finish(38);case 41:return s.next=43,(0,or.gz)(it(n.roadmaps,a));case 43:s.next=47;break;case 45:return s.next=47,(0,or.gz)(it({},{}));case 47:s.next=51;break;case 49:return s.next=51,(0,or.gz)(it({},{}));case 51:case"end":return s.stop()}}),vr,null,[[17,35,38,41],[21,28]])}function Pr(){var e,t;return rr().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=3,(0,or.qn)("AUTH_SUCCESS");case 3:if(t=n.sent,"string"!=typeof(null===(e=t.payload)||void 0===e?void 0:e.id)){n.next=7;break}return n.next=7,(0,or.rM)(wr,t.payload.id);case 7:n.next=0;break;case 9:case"end":return n.stop()}}),Or)}var Tr=n(4063),Ir=n.n(Tr),jr=rr().mark(Cr);function Sr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ar(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Sr(Object(n),!0).forEach((function(t){(0,p.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Sr(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Cr(e,t){var n,r,o;return rr().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,(0,or.Ys)((function(t){return t.metas[e].stats}));case 2:if(n=a.sent,r=Object.values(t).reduce((function(e,t){return e.cards++,e.from=e.from?e.from.localeCompare(t.from)>0?t.from:e.from:t.from,e.until=e.until&&e.until.localeCompare(t.until)>0?e.until:t.until,e}),{cards:0,from:"",until:""}),o=Ar(Ar({},n),r),Ir()(n,o)){a.next=10;break}return a.next=8,(0,or.gz)({type:"ROADMAP_UPDATE_META",payload:{roadmapID:(i={roadmapID:e,stats:o}).roadmapID,stats:i.stats}});case 8:return a.next=10,(0,or.rM)(dr,e,o);case 10:case"end":return a.stop()}var i}),jr)}var kr=rr().mark(Lr);function Lr(){var e,t,n,r;return rr().wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=3,(0,or.qn)(["EDIT_CARD","MOVE_CARD","SELECTION_DELETE"]);case 3:return e=o.sent,o.next=6,(0,or.Ys)((function(e){return e.cards}));case 6:return t=o.sent,n=t[e.payload.id],o.next=10,(0,or.Ys)((function(e){return e.ui.currentRoadmapID}));case 10:if(!(r=o.sent)){o.next=16;break}return o.next=14,(0,or.rM)(mr,r,n||{id:e.payload.id});case 14:return o.next=16,(0,or.rM)(Cr,r,t);case 16:o.next=0;break;case 18:case"end":return o.stop()}}),kr)}var Rr=rr().mark(Mr);function Mr(){var e,t;return rr().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=3,(0,or.qn)("EDIT_LINE_NAME");case 3:return e=n.sent,n.next=6,(0,or.Ys)((function(e){return e.ui.currentRoadmapID}));case 6:if(!(t=n.sent)){n.next=10;break}return n.next=10,(0,or.rM)(gr,t,e.payload);case 10:n.next=0;break;case 12:case"end":return n.stop()}}),Rr)}var Zr=rr().mark(_r);function _r(){var e,t,n;return rr().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=3,(0,or.qn)(["EDIT_LONG"]);case 3:return e=r.sent,t=e.payload,r.next=7,(0,or.Ys)((function(e){return e.ui.currentRoadmapID}));case 7:if(!(n=r.sent)||!t.cardID){r.next=11;break}return r.next=11,(0,or.rM)(br,n,t.cardID,t.long);case 11:r.next=0;break;case 13:case"end":return r.stop()}}),Zr)}n(9826);var Nr=function(e){return Object.keys(e).forEach((function(t){if("cards"===t||"milestones"===t){var n=e[t];Object.keys(n).forEach((function(e){var t=String(e);n[t].id=t}))}"lines"===t&&(e.lines.names=Object.assign({},e.lines.names))})),e},Hr=rr().mark(Yr),Ur=rr().mark(Fr),zr=rr().mark(Wr);function Yr(e){var t,n,r,o,a,i,c,l,u,s,p,f,d;return rr().wrap((function(m){for(;;)switch(m.prev=m.next){case 0:t=sr(e),n=!1,m.prev=2;case 3:return m.next=6,(0,or.S3)({roadmapData:(0,or.qn)(t),cancel:(0,or.qn)("REMOVE_CURRENT_ROADMAP")});case 6:if(r=m.sent,!(o=r.roadmapData)){m.next=36;break}if(void 0!==o.cards||void 0!==o.milestones){m.next=14;break}return m.next=12,(0,or.gz)(ct({cards:{},lines:{names:{}},longs:{},milestones:{},roadmapID:e}));case 12:m.next=34;break;case 14:return a=Nr({cards:o.cards||{},lines:o.lines||{names:{}},longs:o.longs||{},milestones:o.milestones||{},roadmapID:e}),m.next=17,(0,or.Ys)((function(e){return e.cards}));case 17:return i=m.sent,m.next=20,(0,or.Ys)((function(e){return e.lines}));case 20:return c=m.sent,m.next=23,(0,or.Ys)((function(e){return e.longs}));case 23:return l=m.sent,m.next=26,(0,or.Ys)((function(e){return e.milestones}));case 26:if(u=m.sent,s=Ir()(a.cards,i),p=Ir()(a.lines,c),f=Ir()(a.longs,l),d=Ir()(a.milestones,u),s&&f&&p&&d){m.next=34;break}return m.next=34,(0,or.gz)(ct(a));case 34:m.next=38;break;case 36:n=!0,t.close();case 38:m.next=3;break;case 40:if(m.prev=40,n){m.next=44;break}return m.next=44,(0,or.gz)({type:"REMOVE_ACCOUNT_ROADMAP",payload:{roadmapID:e}});case 44:return m.finish(40);case 45:case"end":return m.stop()}}),Hr,null,[[2,,40,45]])}function Fr(){var e;return rr().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=3,(0,or.qn)(["SET_CURRENT_ROADMAP"]);case 3:if("string"!=typeof(e=t.sent.payload.currentRoadmapID)||e.length!==D.ID.LENGTH){t.next=7;break}return t.next=7,(0,or.rM)(Yr,e);case 7:t.next=0;break;case 9:case"end":return t.stop()}}),Ur)}function Wr(){var e,t,n,r;return rr().wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=3,(0,or.qn)(["ADD_ACCOUNT_ROADMAP"]);case 3:if("string"!=typeof(e=o.sent.payload.roadmapName)||!e.length){o.next=14;break}return o.next=7,(0,or.Ys)((function(e){return e.user.id}));case 7:return t=o.sent,n=Date.now(),o.next=11,(0,or.RE)(hr,t,n,e);case 11:return r=o.sent,o.next=14,(0,or.gz)(it((0,p.Z)({},r,{lineNameWidth:0}),(0,p.Z)({},r,{createdAt:n,name:e,ownerID:t,stats:{from:"",cards:0,until:""}})));case 14:o.next=0;break;case 16:case"end":return o.stop()}}),zr)}var Vr=function(e,t){var n=!0;return e(),function e(t,r){setTimeout((function(){n&&(t(),e(t,r))}),r)}(e,t),function(){n=!1}},Gr=rr().mark(Xr),Kr=rr().mark(Br);function Xr(){var e,t;return rr().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:e=function(){},t=rr().mark((function t(){var n,r;return rr().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,or.qn)("AUTH_SUCCESS");case 2:return r=t.sent,"string"==typeof(null===(n=r.payload)||void 0===n?void 0:n.id)&&(e=Vr((function(){return L(r.payload.id)}),D.TIME.LAST_ACTIVE)),t.next=6,(0,or.qn)("AUTH_OUT");case 6:e();case 7:case"end":return t.stop()}}),t)}));case 2:return n.delegateYield(t(),"t0",4);case 4:n.next=2;break;case 6:case"end":return n.stop()}}),Gr)}function Br(){var e,t,n,r,o,a;return rr().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=3,(0,or.qn)("SET_ACCOUNT_ROADMAP_SETTING");case 3:return e=i.sent,i.next=6,(0,or.Ys)((function(e){return e.user.id}));case 6:return t=i.sent,n=e.payload,r=n.roadmapID,o=n.settingName,a=n.settingValue,i.next=10,(0,or.RE)(yr,{userID:t,roadmapID:r,settingName:o,settingValue:a});case 10:i.next=0;break;case 12:case"end":return i.stop()}}),Kr)}var qr,Jr=function(e){qr=e},Qr=function(){return qr},$r=rr().mark(eo);function eo(){var e,t;return rr().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=3,(0,or.qn)("*");case 3:"AUTH_SUCCESS"===(e=n.sent).type&&(null===(t=Qr())||void 0===t||t.logEvent("login",{method:"Google",uuid:e.payload.id,app_version:u.i8})),n.next=0;break;case 7:case"end":return n.stop()}}),$r)}var to=rr().mark(no);function no(){return rr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,or.$6)([Pr(),Lr(),Mr(),_r(),Wr(),Fr(),Xr(),Br(),eo()]);case 2:case"end":return e.stop()}}),to)}var ro=(0,s.vJ)(["body,main,section{-ms-overflow-style:none;scrollbar-width:none;&::-webkit-scrollbar{display:none;}}input{font-family:Helvetica,Arial,sans-serif;}"]);(0,i.GP)();var oo=function(){var e;e=Jr,S.Z.initializeApp({apiKey:"AIzaSyDDHltlwPJGgqYbVyQ83VV6HMwT5TqNFg8",authDomain:"auth.rebelplans.com",databaseURL:"https://rebel-plans-default-rtdb.europe-west1.firebasedatabase.app",projectId:"rebel-plans",messagingSenderId:"29847344796",appId:"1:29847344796:web:2c601da3e5bfe5cd4a3f59",measurementId:"G-01YJX8T51M"}),e&&e(S.Z.analytics());var t,n,r,o,a=(0,A.ZP)(),i=(0,Zn.md)(a),c=(0,_n.Uo)({trace:!0,traceLimit:25})(i),l=(0,Zn.MT)(tr,c);return a.run(no),n=(t={fetching:function(){return l.dispatch({type:"AUTH_FETCH"})},success:function(e){return l.dispatch(function(e){return{type:"AUTH_SUCCESS",payload:at({},e)}}(e))},out:function(){return l.dispatch({type:"AUTH_OUT"})}}).fetching,r=t.success,o=t.out,n(),S.Z.auth().onAuthStateChanged((function(e){e&&e.email?r({id:e.uid,name:e.displayName||"",email:e.email,photoURL:e.photoURL||""}):o()})),l}(),ao=document.body.firstElementChild;ao&&o.render(r.createElement(a.zt,{store:oo},r.createElement(c.VK,null,r.createElement(ro,null),r.createElement(Mn,null))),ao)},4830:(e,t,n)=>{n.r(t),n.d(t,{default:()=>c}),n(7941),n(2526),n(7327),n(1539),n(5003),n(9554),n(4747),n(9337),n(3321),n(9070);var r=n(4942),o=n(7294);function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var i=function(e){return o.createElement("svg",function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({viewBox:"0 0 24 24"},e),null==e?void 0:e.children)};const c=o.memo(i)}},n={};function r(e){var o=n[e];if(void 0!==o)return o.exports;var a=n[e]={id:e,loaded:!1,exports:{}};return t[e].call(a.exports,a,a.exports,r),a.loaded=!0,a.exports}r.m=t,r.amdO={},e=[],r.O=(t,n,o,a)=>{if(!n){var i=1/0;for(s=0;s<e.length;s++){for(var[n,o,a]=e[s],c=!0,l=0;l<n.length;l++)(!1&a||i>=a)&&Object.keys(r.O).every((e=>r.O[e](n[l])))?n.splice(l--,1):(c=!1,a<i&&(i=a));if(c){e.splice(s--,1);var u=o();void 0!==u&&(t=u)}}return t}a=a||0;for(var s=e.length;s>0&&e[s-1][2]>a;s--)e[s]=e[s-1];e[s]=[n,o,a]},r.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return r.d(t,{a:t}),t},r.d=(e,t)=>{for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),r.hmd=e=>((e=Object.create(e)).children||(e.children=[]),Object.defineProperty(e,"exports",{enumerable:!0,set:()=>{throw new Error("ES Modules may not assign module.exports or exports.*, Use ESM export syntax, instead: "+e.id)}}),e),r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{var e={143:0};r.O.j=t=>0===e[t];var t=(t,n)=>{var o,a,[i,c,l]=n,u=0;if(i.some((t=>0!==e[t]))){for(o in c)r.o(c,o)&&(r.m[o]=c[o]);if(l)var s=l(r)}for(t&&t(n);u<i.length;u++)a=i[u],r.o(e,a)&&e[a]&&e[a][0](),e[a]=0;return r.O(s)},n=self.webpackChunkroadmap=self.webpackChunkroadmap||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))})();var o=r.O(void 0,[559,814],(()=>r(9251)));o=r.O(o)})();